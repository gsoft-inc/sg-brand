import { ApricotTheme, ThemeProvider } from "@react-components/styling"
import { ArgsTable, Meta, Story } from "@storybook/addon-docs";
import { Button } from "@react-components/button";
import { ComponentInfo, Preview, Tagline } from "@stories/components";

<Meta
    title="Components/ThemeProvider"
    id="theme-provider"
/>

# ThemeProvider

<Tagline>Container for Orbit UI applications used to define the theme and color scheme to use.</Tagline>

<ComponentInfo
    usage={"import { ThemeProvider, ThemeContext, useThemeContext } from \"@orbit-ui/react-components\";"}
    githubPath="/packages/react-components/src/styling/src"
/>

## Usage

Orbit UI components rely on the `ThemeProvider` to define the theme and color scheme they need to render accurately. We do recommended you declare a `ThemeProvider` at the root of your application but if you prefer, you can declare them as needed instead.

> The default theme is *apricot*. The *desktop* theme is only available to showcase how multi-theme works in Orbit.

You can access or update the current color scheme from any React components by using the `useThemeContext` hook.

```jsx
const { colorScheme, setColorScheme, themeAccessor, theme } = useThemeContext();
```

### Default

A default theme provider.

<Preview scope={{ ApricotTheme }}>
    <Story name="default">
        <ThemeProvider theme={ApricotTheme} colorScheme="light">
            <Button variant="primary">Cutoff</Button>
        </ThemeProvider>
    </Story>
</Preview>

### User setting

A theme provider can select a color scheme according to the user's operating system setting.

To enable this feature, you must pass the `system` value to `colorScheme` and an additional *fallback* color scheme to `defaultColorScheme` in case the theme provider can't access the user setting.

<Preview>
    <Story name="system">
        <ThemeProvider colorScheme="system" defaultColorScheme="light">
            <Button variant="primary">Cutoff</Button>
        </ThemeProvider>
    </Story>
</Preview>

### Context

The closest `ThemeContext` can be accessed with the `useThemeContext` hook. Once you have an hold on the context, you can access is values and update the `colorScheme`.

<Preview filePath="/styling/docs/theme-provider/ColorSchemePicker" />

## API

### ThemeProvider

<ComponentInfo
    usage={"import { ThemeProvider } from \"@orbit-ui/react-components\";"}
    compact
/>

<ArgsTable of={ThemeProvider} sort="alpha" />
